(window["webpackJsonpsocket-test"]=window["webpackJsonpsocket-test"]||[]).push([[4],{100:function(e,t){},103:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var n,s=a(10),r=a(11),c=a(13),l=a(12),o=a(14),i=a(0),m=a.n(i),u=a(7),d=a(18),v=a(20),p=a.n(v),f=a(28),h=a(75),b=a.n(h),E=a(76),g=a.n(E),N=(a(103),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).startSocket=function(e){e!==a.state.socketUrl&&""!==a.state.socketUrl&&(n.close(),a.setState({message:[]})),a.setState({socketUrl:e}),(n=g()(e,{transports:["websocket"]})).on("connect",function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({status:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.on("error",(function(e){console.log(e),a.setState({error:e,status:!1})})),n.on("desconnect",(function(e){console.log(e),a.setState({error:e,status:!1})})),n.on("connect_error",(function(e){console.log(e),a.setState({error:e,status:!1})})),a.connectEvent(a.state.data.event)},a.connectEvent=function(e){e.map((function(e){return!0!==e.status||n.on(e.name,function(){var t=Object(f.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(s=a.state.message).push({text:n,eventName:e.name,sendEvent:a.state.sendEvent}),a.setState({message:s});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},a.addEvent=function(e){a.setState({message:[]});var t=a.state.data;t.event.push({name:e,status:!0}),a.setState({data:t,newevent:""}),n.on(e,function(){var t=Object(f.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(n),(s=a.state.message).push({text:n,eventName:e,sendEvent:a.state.sendEvent}),a.setState({message:s});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},a.handler=function(e){return a.setState(Object(d.a)({},e.target.name,e.target.value))},a.removeItem=function(e){var t=a.state.data,s=t.event.findIndex((function(t){return t.name===e.name}));t.event.splice(s,1),a.setState({data:t,message:[]}),n.close(),a.startSocket(a.state.Url)},a.saveSocket=function(e){e.url=a.state.Url,a.props.update(e)},a.sendMesssage=function(){a.state.sendEvent&&""!==a.state.messageText?n.emit(a.state.sendEvent,a.state.messageText):alert("Please enter valid value in send event or message field")},a.clearAll=function(){a.setState({sendEvent:"",messageText:""})},a.changeEventStatus=function(e,t){var s=a.state.data,r=s.event.findIndex((function(t){return t.name===e.name}));s.event[r].status=t.target.checked,a.setState({data:s,message:[]}),n.close(),a.startSocket(a.state.Url)},a.state={data:{},status:!1,newevent:"",Url:"",error:"",sendEvent:"",messageText:"",message:[],socketUrl:""},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({data:this.props.data,Url:this.props.data.url})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){return e.show!==this.state.data.id&&this.setState({status:!1}),!0}},{key:"componentWillUnmount",value:function(){console.log("unmount")}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.state,a=t.data,n=t.status,s=t.newevent,r=t.Url,c=t.error,l=t.sendEvent,o=t.messageText,i=t.message,u=this.props.show,d=a.event?a.event:[];return m.a.createElement("div",{className:(u===a.id?"":"d-none")+" tabitem"},m.a.createElement("div",{className:"container-fluid"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},m.a.createElement("div",{className:"input-group mb-3"},m.a.createElement("div",{className:"input-group-prepend"},m.a.createElement("div",{className:"input-group-text",id:"btnGroupAddon"},m.a.createElement("i",{className:(n||0!==i.length?"text-primary":"text-gray")+" material-icons"},"signal_wifi_4_bar"))),m.a.createElement("input",{type:"text",className:"form-control",placeholder:"Socket Url",value:r,name:"Url",onChange:this.handler}),m.a.createElement("div",{className:"input-group-append"},m.a.createElement("button",{className:"btn btn-silver",type:"button",id:"button-addon2",onClick:function(){return e.startSocket(r)}},"Connect"),m.a.createElement("button",{className:"btn btn-primary",type:"button",id:"button-addon2",onClick:function(){return e.saveSocket(a)}},"Save"))))),m.a.createElement("div",{className:" row mx-n1"},m.a.createElement("div",{className:"col-sm-4 col-md-3 p-1"},m.a.createElement("div",{className:"p-2 bg-light leftside shadow-sm"},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Send Message"),m.a.createElement("input",{className:"form-control",placeholder:"Event Name",value:l,name:"sendEvent",onChange:this.handler,autoComplete:"false"})),m.a.createElement("div",{className:"form-group"},m.a.createElement("textarea",{className:"form-control",rows:"5",placeholder:"Message",name:"messageText",value:o,onChange:this.handler})),m.a.createElement("div",{className:"row mx-n1 "},m.a.createElement("div",{className:"col-8 mb-1 p-1"},m.a.createElement("button",{className:"btn btn-sm btn-primary btn-block",onClick:this.sendMesssage},"Send Message")),m.a.createElement("div",{className:"col-4 mb-1 p-1"},m.a.createElement("button",{className:"btn btn-sm btn-danger btn-block",onClick:this.clearAll},"Clear"))),m.a.createElement("hr",null),m.a.createElement("div",{className:"input-group "},m.a.createElement("input",{type:"text",className:"form-control",value:s,name:"newevent",placeholder:"Event Name",onChange:this.handler}),m.a.createElement("div",{className:"input-group-append"},m.a.createElement("button",{className:"btn btn-silver",type:"button",onClick:function(){return e.addEvent(s)}},"Add"))),m.a.createElement("ul",{className:"list-group mt-2"},d.map((function(t,a){return m.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center p-2",key:a},m.a.createElement("div",{className:"d-flex justify-content-between"},m.a.createElement("label",{className:"m-0 checkboxItem"},m.a.createElement("input",{type:"checkbox",defaultChecked:t.status,onChange:function(a){return e.changeEventStatus(t,a)}}),m.a.createElement("i",{className:"material-icons"},"stop")),t.name),m.a.createElement("span",{className:"d-flex"},m.a.createElement("i",{className:"material-icons",onClick:function(){return e.removeItem(t)}},"clear")))}))))),m.a.createElement("div",{className:"col-sm-8 col-md-9 p-1 "},m.a.createElement("div",{className:"p-2 bg-light shadow-sm h-100"},m.a.createElement("div",{className:"mesgs"},i.map((function(e,t){return m.a.createElement("div",{className:"incoming_msg",key:t},m.a.createElement("div",{className:"userImage"},m.a.createElement("span",null,e.eventName.slice(0,2))),m.a.createElement("div",{className:"msgbox"},m.a.createElement("pre",null,m.a.createElement(b.a,{src:e.text,collapsed:!0})),m.a.createElement("span",{className:"info_data"},e.eventName," | ",e.sendEvent)," "))})),n||0!==i.length?"":m.a.createElement("pre",{className:"alert alert-danger",role:"alert"},JSON.stringify(c||"Call Socket Url"))))))))}}]),t}(i.Component));var k=Object(u.b)((function(e){return{global:e.Global}}))(N),x=(a(104),[{id:0,url:"http://10.10.30.110:8086",event:[{name:"ajitres",status:!0}]},{id:1,url:"http://onchainnow.com:5000",event:[{name:"findDashBoard",status:!0}]}]),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={DataVal:x,active:""},a.removeTab=function(e){var t=a.state.DataVal,n=t.findIndex((function(t){return t.id===e.id}));if(t.splice(n,1),a.setState({DataVal:t}),-1===t.findIndex((function(e){return e.id===a.state.active}))){var s=t.length>1?t[n-1].id:t[0].id;setTimeout((function(){return a.activeTab(s)}),100)}else{var r=t[t.findIndex((function(e){return e.id===a.state.active}))].id;setTimeout((function(){return a.activeTab(r)}),100)}},a.addNewTab=function(){var e=a.state.DataVal,t=Math.random();e.push({url:"",event:[],id:t}),a.setState({DataVal:e,active:t})},a.updateData=function(e){var t=a.state.DataVal,n=t.findIndex((function(t){return t.id===e.id}));t[n].url=e.url,a.setState({DataVal:t})},a.activeTab=function(e){return a.setState({active:e})},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.state.DataVal.lenght>0?this.setState({active:this.state.DataVal[0].id}):this.addNewTab()}},{key:"render",value:function(){var e=this,t=this.state,a=t.DataVal,n=t.active;return m.a.createElement("div",{className:"container-fluid pt-3 pb-3"},m.a.createElement("div",{className:"card border-0"},m.a.createElement("div",{className:"card-header p-0 shadow-none bg-light"},m.a.createElement("div",{className:"tabboxs d-flex flex-row justify-content-start align-items-stretch"},m.a.createElement("ul",{className:"tabs d-flex flex-nowrap m-0 p-0"},a.map((function(t,a){return m.a.createElement("li",{onClick:function(){return e.activeTab(t.id)},className:(n===t.id?"active":"")+" d-flex",key:t.id,title:t.url||"Socket Url"},m.a.createElement("span",null,t.url||"Socket Url"),m.a.createElement("i",{className:"material-icons",onClick:function(){return e.removeTab(t)}},"clear"))}))),m.a.createElement("div",{className:"addtabs"},m.a.createElement("i",{className:"bg-silver text-white material-icons",onClick:this.addNewTab},"add")))),m.a.createElement("div",{className:"card-body pl-0 pr-0"},a.map((function(t,a){return m.a.createElement(k,{data:t,show:n,update:e.updateData,key:t.id,className:"customshow"})})))))}}]),t}(i.Component);t.default=Object(u.b)((function(e){return{global:e.Global}}))(S)}}]);
//# sourceMappingURL=4.72406cb0.chunk.js.map